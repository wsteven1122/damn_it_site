/* =========================================
   Egg Mix Magic - å®Œæ•´æ¨£å¼è¡¨ (å·²ä¿®æ­£)
   ========================================= */

/* --- å…¨å±€è®Šé‡èˆ‡åŸºç¤è¨­ç½® --- */
:root {
  --bg-top: #80a2ff;
  --bg-btm: #c5cfff;
  --btn-border: #dd5e28;
  --tutorial-bg: #fff0c3;
  --text-font: "Arial", sans-serif;
}

body,
html {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: var(--text-font);
  user-select: none;
}

::-webkit-scrollbar {
  display: none;
}

#game-container {
  width: 100%;
  height: 100%;
  position: relative;
  background: linear-gradient(to bottom, var(--bg-top) 50%, var(--bg-btm) 50%);
}

/* --- é€šç”¨ UI çµ„ä»¶ --- */
.full-page {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
.hidden-page {
  transform: translateY(100%);
}
.scrolled-up {
  transform: translateY(-100%);
}
.active-page {
  transform: translateY(0);
}

/* =========================================
   1. å³ä¸Šè§’æŒ‰éˆ• (ä¿®æ­£å¾Œçš„æ ¸å¿ƒä»£ç¢¼)
   ========================================= */
.top-ui {
  position: fixed;
  top: 20px;
  z-index: 1000;
  cursor: pointer;
  width: 60px;
  height: 60px;

  /* ç§»é™¤èˆŠæ¨£å¼ */
  background-color: transparent !important;
  border: none !important;
  border-radius: 0 !important;

  /* åœ–ç‰‡è¨­å®š */
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  transition: transform 0.1s;
  filter: drop-shadow(2px 4px 6px rgba(0, 0, 0, 0.2));
}
.top-ui:hover {
  transform: scale(1.1) rotate(5deg);
}
.top-ui:active {
  transform: scale(0.95);
}

/* --- å€‹åˆ¥æŒ‰éˆ•åœ–ç‰‡ (è«‹ç¢ºä¿æª”åå·²ä¿®æ”¹) --- */

/* æ•™ç¨‹æŒ‰éˆ• */
#btn-tutorial {
  right: 90px;
  background-image: url("./img/Botton_teaching_Default.png");
}
#btn-tutorial:hover,
#btn-tutorial:active {
  background-image: url("./img/Botton_teaching_Hover.png");
}

/* è²éŸ³æŒ‰éˆ• */
#btn-sound {
  right: 20px;
  background-image: url("./img/sound_orange.png");
}
#btn-sound:hover,
#btn-sound:active {
  background-image: url("./img/sound_brown.png");
}

/* å›é¦–é æŒ‰éˆ• */
#btn-home {
  left: 20px;
  background-image: url("./img/home_orange.png");
  display: none;
}

/* =========================================
   2. æ•™ç¨‹å½ˆçª— (é€šè¨Šæ¬„é¢¨æ ¼)
   ========================================= */
#tutorial-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 9999 !important; /* æœ€ä¸Šå±¤ */
  display: none;
  justify-content: center;
  align-items: center;
}

/* =========================================
   ä¿®æ­£å¾Œçš„å½ˆçª—è¨­å®š (åŒ…å«åœ–ç‰‡èˆ‡å¤§å°)
   ========================================= */
.modal-content {
  /* 1. åœ–ç‰‡è·¯å¾‘ (ä½ çš„æª”åæ˜¯å°çš„) */
  background-image: url("./img/tutorial_bg.png");

  /* 2. è®“åœ–ç‰‡å……æ»¿æ•´å€‹æ¡†æ¡† */
  background-size: 100% 100%;
  background-repeat: no-repeat;

  /* 3. ç§»é™¤èƒŒæ™¯è‰²è·Ÿé‚Šæ¡† */
  background-color: transparent !important;
  border: none !important;
  border-radius: 0 !important;

  /* 4. â˜…é—œéµï¼šä¸€å®šè¦æœ‰å¤§å°ï¼Œä¸ç„¶æœƒè®Šæˆéš±å½¢çš„ï¼â˜… */
  width: 80%;
  max-width: 600px;
  min-height: 400px;
  position: relative;

  /* 5. è¨­å®šå…§è· (è®“æ–‡å­—ä¸è¦å£“åˆ°åœ–ç‰‡é‚Šæ¡†) */
  padding-top: 80px;
  padding-bottom: 40px;
  padding-left: 50px;
  padding-right: 50px;
  box-sizing: border-box;
}

.modal-text-area {
  width: 100%;
  height: 100%;
  overflow-y: auto;
  color: #333;
  font-weight: bold;
  font-size: 1.1rem;
  line-height: 1.6;
  text-align: center;
}

.close-btn {
  position: absolute;
  top: 15px;
  right: 20px;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-image: url("./img/Botton_delete_Default.png");
  background-size: contain;
  background-repeat: no-repeat;
  transition: transform 0.1s;
}
.close-btn:hover {
  transform: scale(1.1);
}
.close-btn:active {
  transform: scale(0.9);
}

/* =========================================
   3. é é¢èˆ‡å‹•ç•«
   ========================================= */

/* æ¼‚æµ®å‹•ç•« */
@keyframes floatAnim {
  0% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-15px) rotate(2deg);
  }
  100% {
    transform: translateY(0px) rotate(0deg);
  }
}
.floater {
  position: absolute;
  animation: floatAnim 3s ease-in-out infinite;
  pointer-events: auto;
  transition: margin 0.2s;
}
.floater:hover {
  margin-top: -10px;
}

/* æ‰‹éƒ¨å‹•ç•« */
.hands-container {
  position: absolute;
  bottom: -100%;
  width: 100%;
  height: 100%;
  pointer-events: none;
  transition: bottom 0.5s ease-out;
  z-index: 50;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}
.hand-img {
  max-height: 50vh;
}
.hands-show {
  bottom: 0;
}

/* --- Page 1: é¦–é  --- */
#page-home {
  z-index: 10;
  /* é¦–é å°ˆå±¬èƒŒæ™¯ (è«‹ç¢ºä¿æª”åæ”¹æˆ home_bg.png) */
  background-image: url("./img/home_bg.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* ä¸‰å¼µæ–°åœ–éƒ½ä¸æ“‹æŒ‰éˆ•ã€ä¸æ¨æ“ æ’ç‰ˆ */
.home-rays,
.home-splat,
.home-grid {
  position: absolute;
  pointer-events: none;
  z-index: 1; /* æ¯”ä½ çš„æ¨™é¡Œä½ï¼Œæ¯”èƒŒæ™¯é«˜ */
}

/* å°„ç·š */
.home-rays {
  top: -5%;
  left: -8%;
  width: 45vw;
  max-width: 1000px;
  animation: floatRays 6s ease-in-out infinite;
}

/* è›‹æ± */
.home-splat {
  top: 55%;
  left: 50%;
  width: 75vw;
  max-width: 1100px;
  transform: translate(-50%, -50%);
  animation: floatSplat 7s ease-in-out infinite;
}

/* æ ¼å­å¸ƒ */
.home-grid {
  right: -20%;
  bottom: -30%;
  width: 70vw;
  max-width: 1000px;
  animation: floatGrid 5.5s ease-in-out infinite;
}

/* æ¼‚æµ®å‹•ç•« */
@keyframes floatRays {
  0% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-12px);
  }
  100% {
    transform: translateY(0);
  }
}

@keyframes floatSplat {
  0% {
    transform: translate(-50%, -50%);
  }
  50% {
    transform: translate(-50%, -56%);
  }
  100% {
    transform: translate(-50%, -50%);
  }
}

@keyframes floatGrid {
  0% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-10px) rotate(1deg);
  }
  100% {
    transform: translateY(0) rotate(0deg);
  }
}

.title-logo {
  width: 60%;
  max-width: 500px;
  z-index: 2;
  animation: floatAnim 4s ease-in-out infinite;
}
#start-btn {
  width: 150px;
  margin-top: 20px;
  z-index: 2;
}
.deco {
  position: absolute;
  width: 160px;
}

/* --- Page 2: æ•…äº‹é  --- */

#page-story {
  background: transparent;
}

.chat-container {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 40px; /* å°è©±å€å¾ä¸Šæ–¹ 40px é–‹å§‹ */
  bottom: 220px; /* â¬… å°è©±å€åœ¨ GO ä¹‹ä¸ŠçµæŸï¼Œé¿å…å£“åˆ°æŒ‰éˆ• */

  width: 100%;
  max-width: 900px;
  padding: 40px;
  box-sizing: border-box;

  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* æ–°è¨Šæ¯å †åœ¨åº•éƒ¨ */
  gap: 12px;

  overflow: visible; /* è¶…å‡ºä¸Šæ–¹æ²’é—œä¿‚ï¼Œç…§ Figma é‚£æ¨£å¾€ä¸Šé£› */
}

.chat-bubble {
  margin: 0 auto; /* æ³¡æ³¡æ°´å¹³ç½®ä¸­ */
  box-sizing: border-box;
  display: flex;
  justify-content: center; /* â­ æ°´å¹³è®“æ–‡å­—ç½®ä¸­ */
  align-items: center; /* â­ å‚ç›´ç½®ä¸­ï¼ˆå¦‚æœé«˜åº¦å¤ ï¼‰*/
  text-align: center; /* â­ è®“å­—æœ¬èº«ç½®ä¸­ */
}

/* ä¸ç”¨ pseudo ä¸‰è§’å½¢ï¼Œå› ç‚ºä½ ç”¨çš„æ˜¯æ•´å¼µåœ– */
.chat-bubble::after {
  display: none;
}

.chat-bubble.show {
  opacity: 1;
  transform: scale(1);
}

/* GO / SKIP å€å¡Šï¼šå›ºå®šåœ¨ä¸‹é¢ä¸­é–“ */
.story-controls {
  z-index: 60;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 80px; /* ä½ å¯ä»¥è‡ªå·±å†èª¿é«˜ä½ */
}

.bubble-1,
.bubble-2,
.bubble-3,
.bubble-4 {
  width: 673px;
  min-height: 216px;
  background-image: url("./img/chat-bubble-big.png");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;

  padding: 32px 70px 60px 140px; /* ä¸Š å³ ä¸‹ å·¦ */
  /* â­ å·¦é‚Šå°–è§’ä½”ç©ºé–“ â†’ å·¦ padding è¦å¤§ä¸€é» */
}

.bubble-5,
.bubble-6 {
  width: 678px;
  min-height: 166px;
  background-image: url("./img/chat-bubble-small.png");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;

  padding: 26px 70px 50px 140px; /* ä¸Š å³ ä¸‹ å·¦ */
}

#btn-skip,
#btn-go {
  width: 100px;
}
#btn-go {
  display: none;
}
.img-btn {
  cursor: pointer;
  transition: transform 0.1s;
}
.img-btn:hover {
  filter: brightness(1.1);
}
.img-btn:active {
  transform: scale(0.95);
}
.img-btn.disabled {
  filter: grayscale(1);
  pointer-events: none;
}

/* --- Page 3: é¸æ“‡ä¸»é£Ÿé  (ä¿®æ­£ç‰ˆ) --- */
#page-select {
  background: transparent;
  display: flex; /* æ”¹ç”¨ Flex æ’ç‰ˆ */
  flex-direction: column;
  align-items: center;
  justify-content: center; /* ä¸Šä¸‹å±…ä¸­ */
}

/* ç¢ºä¿ä¸Šæ–¹ç•™ä¸€é»ç©ºé–“çµ¦æ‰‹éƒ¨å‹•ç•«ï¼Œä¸è¢«é®ä½ */
/* --- Page 3: é¸æ“‡ä¸»é£Ÿé  (3D è¼ªæ’­ç‰ˆ) --- */
#page-select {
  background: transparent;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* ç¢ºä¿ä¸Šæ–¹ç•™ä¸€é»ç©ºé–“ */
#page-select .spacer {
  height: 50px;
  width: 100%;
}

/* å¡ç‰‡å®¹å™¨ */
.egg-carousel {
  display: flex;
  overflow-x: auto; /* å…è¨±æ©«å‘æ»¾å‹• */
  width: 100%; /* æ»¿å¯¬ */
  height: 400px;
  padding: 0 50%; /* â˜…é—œéµï¼šå·¦å³ç•™ç™½ 50%ï¼Œè®“ç¬¬ä¸€å¼µå’Œæœ€å¾Œä¸€å¼µèƒ½ç½®ä¸­ */
  box-sizing: border-box; /* åŒ…å« padding */

  /* éš±è—æ»¾å‹•æ¢ */
  scrollbar-width: none;
  -ms-overflow-style: none;
  cursor: grab;
  z-index: 60;
  align-items: center;

  /* è®“æ»¾å‹•æ›´å¹³æ»‘ */
  scroll-behavior: smooth;
  position: relative;
  top: -50px; /* è² æ•¸è¶Šå¤šï¼Œå°±ç§»å¾—è¶Šä¸Šé¢ã€‚è©¦è©¦çœ‹ -50px æˆ– -80px */
}

.egg-carousel::-webkit-scrollbar {
  display: none;
}
.egg-carousel.dragging {
  cursor: grabbing;
  scroll-behavior: auto; /* æ‹–æ›³æ™‚å–æ¶ˆå¹³æ»‘ï¼Œæ¯”è¼ƒè·Ÿæ‰‹ */
}

/* å–®å¼µå¡ç‰‡ */
.egg-card {
  flex: 0 0 220px; /* å›ºå®šå¯¬åº¦ */
  height: 320px;
  background: white;
  border: 4px solid #555;
  border-radius: 20px;
  margin: 0 15px; /* å¡ç‰‡é–“è· */

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-around;

  /* â˜…é—œéµï¼šè¨­å®šç¸®æ”¾çš„åŸºæº–é»åœ¨ä¸­å¿ƒ */
  transform-origin: center center;
  transition: transform 0.1s ease-out, border-color 0.3s, opacity 0.3s;

  user-select: none;
  position: relative;
  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
  opacity: 0.5; /* é è¨­åŠé€æ˜ï¼Œè®Šå¤§æ™‚æ‰ä¸é€æ˜ */
}

/* ç•¶å¡ç‰‡è¢«åˆ¤å®šç‚ºã€Œæ¿€æ´»ã€æ™‚çš„æ¨£å¼ (ç”± JS æ§åˆ¶) */
.egg-card.active {
  border-color: var(--btn-border);
  box-shadow: 0 0 25px rgba(255, 165, 0, 0.8);
  z-index: 10;
  opacity: 1;
}

.egg-tag {
  background: #555;
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
}
.egg-card.active .egg-tag {
  background: var(--btn-border);
}

.egg-img {
  width: 140px;
  height: 140px;
  object-fit: contain;
  pointer-events: none;
}

#btn-choose-food {
  width: 180px;
  margin-top: 30px;
  z-index: 60;
  transition: all 0.3s;
}

/* å–®å¼µå¡ç‰‡ */
.egg-card {
  flex: 0 0 220px; /* å›ºå®šå¯¬åº¦ï¼Œä¸è¦ç¸®æ”¾ */
  height: 320px;
  background: white;
  border: 4px solid #555;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-around;

  transition: transform 0.3s, border-color 0.3s;
  user-select: none; /* é˜²æ­¢æ–‡å­—è¢«é¸å– */
  position: relative;
  box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.2);
}

/* é¸ä¸­ç‹€æ…‹ */
.egg-card.active {
  transform: scale(1.1); /* æ”¾å¤§ */
  border-color: var(--btn-border); /* è®Šæ©˜è‰²æ¡† */
  box-shadow: 0 0 20px rgba(255, 165, 0, 0.6);
  z-index: 2;
}

.egg-tag {
  background: #555;
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
}
.egg-card.active .egg-tag {
  background: var(--btn-border);
}

.egg-img {
  width: 140px;
  height: 140px;
  object-fit: contain;
  pointer-events: none; /* é˜²æ­¢æ‹–åœ–ç‰‡ */
}

/* é¸æ“‡æŒ‰éˆ• */
#btn-choose-food {
  width: 180px;
  margin-top: 30px; /* èˆ‡å¡ç‰‡æ‹‰é–‹è·é›¢ */
  z-index: 60;
  display: block; /* ç¢ºä¿å®ƒæ˜¯é¡¯ç¤ºçš„ */
}

/* --- å¸ƒå¹• --- */
#curtain-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 900;
  display: flex;
}
.curtain-panel {
  width: 50%;
  height: 100%;
  background: #dd5e28;
  position: relative;
  transition: transform 0.8s ease-in-out;
}
.curtain-left {
  transform: translateX(-100%);
  background-image: url("./img/curtain_left.png");
  background-size: cover;
}
.curtain-right {
  transform: translateX(100%);
  background-image: url("./img/curtain_right.png");
  background-size: cover;
}
.curtains-closed .curtain-left {
  transform: translateX(0);
}
.curtains-closed .curtain-right {
  transform: translateX(0);
}

/* --- Page 4: éŠæˆ²é  --- */
#page-game {
  background-image: url("./img/bg_kitchen.png");
  background-size: cover;
  background-position: center;
  display: none;
}
.slots-container {
  position: absolute;
  top: 15%;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 15px;
  z-index: 10;
}
.slot {
  width: 70px;
  height: 70px;
  background: rgba(255, 255, 255, 0.8);
  border: 2px dashed #555;
  border-radius: 5px;
  position: relative;
}
.slot img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.slot-remove {
  position: absolute;
  top: -5px;
  right: -5px;
  width: 20px;
  height: 20px;
  background: red;
  color: white;
  border-radius: 50%;
  text-align: center;
  line-height: 20px;
  cursor: pointer;
  display: none;
  font-size: 12px;
}

#main-egg {
  position: absolute;
  top: 50%; /* åŸæœ¬å¤§æ¦‚ 40% â†’ å¾€ä¸ŠæŒª */
  left: 50%;
  transform: translate(-50%, -50%);
  width: 280px; /* åŸæœ¬ 180px â†’ æ”¾å¤§ç´„ 45% */
  height: 337px; /* è·Ÿå¯¬ä¸€è‡´ */
  z-index: 5;
  transition: transform 0.2s;
}

.ingredient {
  position: absolute;
  width: 150px; /* åŸæœ¬æ˜¯ 60px â†’ è®Šå¤§ */
  height: 150px;
  cursor: grab;
  pointer-events: auto;
  transition: transform 0.1s;
  filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.3));
}

.ingredient:active {
  cursor: grabbing;
  transform: scale(1.1);
}
.ingredient.used {
  display: none;
}
#btn-magic {
  position: absolute;
  top: 15%;
  right: 25%;
  width: 150px;
  display: none;
  animation: pulse 1s infinite;
  cursor: pointer;
  z-index: 30;
}
@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.table-overlay {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%; /* ä¾ç…§ä½ æ¡Œå­çš„æ¯”ä¾‹èª¿æ•´ */
  pointer-events: none; /* é¿å…æ“‹åˆ°æ‹–æ›³é£Ÿæ */
  z-index: 0; /* å£“åœ¨èƒŒæ™¯ä¸Šé¢ã€ä½†åœ¨è›‹èˆ‡é£Ÿæä¸‹é¢ */
}

/* --- Page 5: çµæœé  --- */

#page-result {
  background-image: url("./img/4.0çµå±€.png");
  background-size: cover;
  background-position: center;
  display: none;
}

.plate-area {
  position: absolute;
  top: 55%; /* ä½ å¯ä»¥ä¾ç…§ç¤ºæ„åœ–å†èª¿æ•´ */
  left: 50%;
  transform: translate(-50%, -50%);

  width: 600px; /* â† ç›¤å­å€åŸŸè®Šå¤§ */
  height: 400px; /* â† ä¾ç…§ç›¤å­æ¯”ä¾‹ */

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.plate-img {
  position: absolute;
  width: 200%;
  height: auto; /* â† ä¿æŒåŸå§‹æ¯”ä¾‹ */
  z-index: 1;
  pointer-events: none; /* â† ä¸æ“‹åˆ°é»æ“Š */
}

.result-dish {
  width: 280px; /* â† ä½ å¯ä»¥è©¦ 220 / 250 / 280ï¼Œçœ‹ä½ å–œæ­¡å“ªç¨® */
  z-index: 2;
  margin-bottom: 40px; /* â† æ”¾å¤§å¾Œè¦è®“å®ƒç«™åœ¨ç›¤å­ä¸­å¿ƒï¼Œå› æ­¤å¤šä¸€é»é–“è· */
  animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.result-name {
  position: absolute;
  top: 80%; /* â† å¾€ç›¤å­ä¸‹é¢ç§»å‹• */
  left: 50%;
  transform: translateX(-50%);

  z-index: 10; /* â† ç¢ºå®šæ¯”ç›¤å­é«˜ */
  font-size: 24px; /* â† æ›´æ¸…æ¥š */
  font-weight: bold;
  color: #333;
  text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.8); /* è®“å­—åœ¨ç›¤å­ä¸Šæ›´æ¸…æ™° */
}

/* çµå±€å°è©±æ¡†ï¼šæ”¹ç”¨åœ–ç‰‡ç•¶åº• */
.result-dialog {
  position: absolute;
  bottom: 10%; /* æ³¡æ³¡å¤§æ¦‚åœ¨ç›¤å­å·¦ä¸‹è§’ï¼Œä½ å¯ä»¥å†å¾®èª¿ */
  left: 18%;
  width: 495px; /* ä¾ä½ çš„åœ–æ¯”ä¾‹èª¿æ•´ */
  height: 100px; /* ä¸€æ¨£ä¾å¯¦éš›çœ‹èµ·ä¾†å¾®èª¿ */

  background-repeat: no-repeat;
  background-size: 100% 100%;
  background-position: center;

  border: none;
  padding: 0;
  z-index: 10;

  display: flex;
  align-items: center;
  justify-content: center;
}

/* ä¸€èˆ¬æˆåŠŸçµå±€ç”¨é€™å¼µ */
.result-dialog.success {
  background-image: url("./img/chat-bubble-finish.png");
}

/* å»šé¤˜å¤±æ•—çµå±€ç”¨é€™å¼µ */
.result-dialog.fail {
  background-image: url("./img/chat-bubble-fail.png");
}

/* æ–‡å­—æ”¹æˆéš±è—ï¼ˆé‚„æ˜¯ä¿ç•™çµ¦ç„¡éšœç¤™ / æ¸¬è©¦ç”¨ï¼‰ */
#result-text {
  visibility: hidden; /* å¦‚æœå®Œå…¨ä¸ç”¨ä¹Ÿå¯ä»¥æ”¹ display:none; */
  font-size: 0;
}

.result-btns {
  position: absolute;
  top: 20%;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 110px;
  box-sizing: border-box;
  z-index: 20;
}
@keyframes popIn {
  from {
    transform: scale(0);
  }
  to {
    transform: scale(1);
  }
}

/* --- Page 6: åœ–é‘‘é  --- */
#page-gallery {
  display: none;
  /* åªæ”¹èƒŒæ™¯è‰²ï¼ˆä½ è¦çš„é»ƒåº•ï¼‰ */
  background: #fff0b9 !important;

  /* è®“å®ƒå¯ä»¥å¾€ä¸‹æ»‘ï¼ˆbody ä»ç„¶ overflow:hidden æ²’é—œä¿‚ï¼‰ */
  overflow-y: auto;

  /* è¦†è“‹ full-page åŸæœ¬çš„ç½®ä¸­ï¼Œé¿å…å…§å®¹è¢«ã€Œé ‚åœ¨æ­£ä¸­é–“ã€é€ æˆæ€ªæ‹‰ä¼¸ */
  justify-content: flex-start;
  align-items: stretch;
}

/* åœ–é‘‘å®¹å™¨ï¼šå›ºå®šå¯¬åº¦ + 4æ¬„ â†’ ä¸€é å¤§æ¦‚ 8 å¼µï¼ˆ2åˆ—ï¼‰ */
.gallery-container {
  width: min(1100px, 100%);
  margin: 0 auto;
  padding: 200px 30px 30px; /* ä¸Šé¢ç•™ç©ºçµ¦ä¸Šæ–¹æŒ‰éˆ• */
  box-sizing: border-box;

  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 60px 70px;
}

/* å°è¢å¹•æ”¹ 2 æ¬„ */
@media (max-width: 820px) {
  .gallery-container {
    padding: 110px 30px 30px;
    grid-template-columns: repeat(2, 1fr);
    gap: 22px 22px;
  }
}

/* å¡ç‰‡æœ¬é«”ï¼šä¸è¦å†è¢«æ’åˆ°è¶…å¤§ */
.gallery-card {
  width: 100%;
  max-width: 170px;
  justify-self: center;

  /* ä¿ç•™ä½ åŸæœ¬ç¿»é¢åŠŸèƒ½éœ€è¦çš„è¨­å®š */
  aspect-ratio: 3/4;
  perspective: 1000px;
  cursor: pointer;

  /* åªæ”¹ã€Œå¡ç‰‡åº•è‰²ã€ï¼šä½ è¦çš„é‚£ç¨®æ·¡é»ƒå¡ç‰‡ */
  background: #ffe7a6;
  border: 2px solid #111;
  border-radius: 10px;
}

/* åšå‡ºåƒä½ å·¦åœ–é‚£æ¨£ã€Œæ•£è½ã€çš„æ„Ÿè¦ºï¼ˆåªæ”¹æ’åˆ—/è§’åº¦ï¼Œä¸å‹•ç¿»é¢ï¼‰ */
.gallery-card:nth-child(8n + 1) {
  transform: rotate(-8deg);
}
.gallery-card:nth-child(8n + 2) {
  transform: rotate(6deg);
}
.gallery-card:nth-child(8n + 3) {
  transform: rotate(-4deg);
}
.gallery-card:nth-child(8n + 4) {
  transform: rotate(7deg);
}
.gallery-card:nth-child(8n + 5) {
  transform: rotate(-6deg);
}
.gallery-card:nth-child(8n + 6) {
  transform: rotate(5deg);
}
.gallery-card:nth-child(8n + 7) {
  transform: rotate(-3deg);
}
.gallery-card:nth-child(8n + 8) {
  transform: rotate(4deg);
}

/* ç¿»é¢çµæ§‹ï¼šç¶­æŒä½ åŸæœ¬ */
.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}
.gallery-card.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-front,
.card-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 10px;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* åœ–ç‰‡å¤§å°ï¼šåªé™åˆ¶ã€Œåœ–é‘‘è£¡çš„å¡ç‰‡åœ–ç‰‡ã€ï¼Œé¿å…å½±éŸ¿å…¶å®ƒé æŒ‰éˆ• */
#page-gallery .card-img {
  width: 72%;
  height: auto;
  display: block;
  object-fit: contain;
}

/* =========================================
   å®Œç¾æ¼¸å±¤èƒŒæ™¯ (ç„¡æ¥ç¸«ç‰ˆ)
   ========================================= */

/* 1. å°‡æ¼¸å±¤è¨­å®šåœ¨æœ€å¤–å±¤å®¹å™¨ï¼Œè®“å®ƒå›ºå®šä¸å‹• */
#game-container {
  /* é€™æ˜¯å¸å–ä½ åœ–ç‰‡é¡è‰²å¾Œçš„ CSS æ¼¸å±¤èªæ³• */
  background: linear-gradient(to bottom, #8faaff 0%, #e6e6ff 100%);

  /* ç¢ºä¿å¯¬é«˜æ»¿ç‰ˆ */
  width: 100%;
  height: 100%;
}

/* 2. å°‡ã€Œé¦–é ã€ã€ã€Œæ•…äº‹é ã€ã€ã€Œé¸æ“‡é ã€ã€ã€Œåœ–é‘‘é ã€èƒŒæ™¯è¨­ç‚ºé€æ˜ */
/* é€™æ¨£å®ƒå€‘å°±æœƒé€å‡ºä¸‹é¢ game-container çš„æ¼¸å±¤è‰² */
#page-home,
#page-story,
#page-select,
#page-gallery {
  background: transparent !important;
  background-image: none !important; /* å¼·åˆ¶ç§»é™¤åŸæœ¬çš„åœ–ç‰‡ */
}

#page-game {
  background-image: url("./img/bg_kitchen.gif") !important;
  background-size: cover;
  background-position: center;
  background-color: #fff;
}

/* ===========================
   ä¸‰å¤§èƒŒæ™¯å…ƒç´ çš„åº•å±¤è¨­å®š
   =========================== */

.home-rays,
.home-grid,
.home-splat {
  position: absolute;
  pointer-events: none;
}

/* æœ€åº•å±¤ï¼šæ”¾å°„ç·š */
.home-rays {
  z-index: 0;
  top: -30%;
  left: -13%;
  width: 60vw;

  /* ä½ å¯ä»¥æ‰‹å‹•èª¿æ•´è§’åº¦ */
  transform: rotate(-13deg);

  animation: floatRays 6s ease-in-out infinite;
}

/* æœ€åº•å±¤ï¼šæ ¼å­å¸ƒ */
.home-grid {
  z-index: 0;
  bottom: -58%;
  right: -10%;
  width: 60vw;

  /* ä½ å¯ä»¥æ‰‹å‹•èª¿æ•´è§’åº¦ */
  transform: rotate(-25deg);

  animation: floatGrid 5.5s ease-in-out infinite;
}

/* ä¸­å±¤ï¼šè›‹æ¶²ï¼ˆè¦å£“ä½ä¸Šå…©å€‹ï¼‰ */
.home-splat {
  z-index: 1;
  top: 56%;
  left: 50%;
  width: 100vw;
  max-width: 2000px;
  transform: translate(-50%, -50%);

  animation: floatSplat 7s ease-in-out infinite;
}

/* âœ… é—œéµï¼šæ¯ä¸€é éƒ½è¦è£åˆ‡æº¢å‡ºï¼Œè¶…å¤§çš„é¦–é èƒŒæ™¯æ‰ä¸æœƒæ®˜å½±åˆ°å¾Œé¢ */
#game-container .full-page {
  overflow: hidden;
}

/* ä¿éšªï¼šé¦–é æœ¬èº«ä¹Ÿè£åˆ‡ */
#page-home {
  overflow: hidden;
}

/* ===========================
   å‹•ç•«ï¼ˆå¯ç…§ä½ å–œæ­¡èª¿æ•´å¹…åº¦ï¼‰
   =========================== */

@keyframes floatRays {
  0% {
    transform: translateY(0) rotate(-6deg);
  }
  50% {
    transform: translateY(-10px) rotate(-6deg);
  }
  100% {
    transform: translateY(0) rotate(-6deg);
  }
}

@keyframes floatGrid {
  0% {
    transform: translateY(0) rotate(10deg);
  }
  50% {
    transform: translateY(-10px) rotate(10deg);
  }
  100% {
    transform: translateY(0) rotate(10deg);
  }
}

@keyframes floatSplat {
  0% {
    transform: translate(-50%, -50%);
  }
  50% {
    transform: translate(-50%, -55%);
  }
  100% {
    transform: translate(-50%, -50%);
  }
}

/* âœ… åœ–é‘‘é èƒŒæ™¯ï¼šåªæ”¹é€™è£¡ï¼ˆè¦†è“‹å¾Œæ®µçš„ transparentï¼‰ */
#page-gallery.full-page {
  background: #8faaff !important; /* ä½ è¦çš„èƒŒæ™¯è‰²å°±æ”¹é€™è¡Œ */
}

/* ==============================
   âœ… Gallery æœ€çµ‚è¦†è“‹ä¿®æ­£ç‰ˆï¼ˆåªå½±éŸ¿åœ–é‘‘ï¼‰
   æ”¾åœ¨ style.css æœ€åº•éƒ¨
   ============================== */

#page-gallery {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* å®¹å™¨ç¶²æ ¼ï¼ˆä½ ç¾åœ¨å·²ç¶“æ­£å¸¸å°±ä¿æŒï¼‰ */
#page-gallery .gallery-container {
  width: min(1100px, 100%);
  margin: 0 auto;
  padding: 200px 30px 90px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 90px 110px;
}

/* å¡ç‰‡å°ºå¯¸å›ºå®šï¼Œé¿å…ä»»ä½•åœ–ç‰‡æŠŠå¡ç‰‡æ’çˆ† */
#page-gallery .gallery-card {
  width: 100%;
  max-width: 190px;
  justify-self: center;
  aspect-ratio: 3 / 4;
  perspective: 1000px;
  background: #ffe7a6; /* ä½ çš„å¡ç‰‡åº•è‰² */
  border: 2px solid #111;
  border-radius: 10px;
}

/* ç¿»é¢çµæ§‹ï¼šä¿æŒåŸæœ¬æ•ˆæœ */
#page-gallery .card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}
#page-gallery .gallery-card.flipped .card-inner {
  transform: rotateY(180deg);
}

#page-gallery .card-front,
#page-gallery .card-back {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 10px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* âœ… é—œéµï¼šè£œå›ã€ŒèƒŒé¢å¿…é ˆæ—‹è½‰ 180ã€(ä½ åŸæœ¬æœ‰ä¸€æ®µå°‘äº† .ï¼Œå°è‡´å¤±æ•ˆ) */
#page-gallery .card-back {
  transform: rotateY(180deg);
}

/* âœ… é—œéµï¼šæŠŠåœ–é‘‘è£¡ã€Œæ‰€æœ‰åœ–ç‰‡ã€éƒ½é™åˆ¶ä½ï¼Œé¿å…é£Ÿæ/çµå±€åœ–ç‚¸é–‹ */
#page-gallery .gallery-card img {
  max-width: 100%;
  height: auto;
  display: block;
  object-fit: contain;
}

/* ä¸»åœ–ï¼ˆçµå±€åœ–ï¼‰å¤§å°ï¼šåªç®¡åœ–é‘‘ */
#page-gallery .card-img {
  width: 72%;
  height: auto;
}

/* å°é£Ÿæåœ–æ¨™ï¼ˆèƒŒé¢é‚£æ’ï¼‰ */
#page-gallery .mini-ing {
  width: 26px;
  height: 26px;
}

/* âœ… åœ–é‘‘é  TRY AGAINï¼šé–æ­»å¤§å°ï¼ˆåªå½±éŸ¿é€™é¡†ï¼‰ */
#btn-gallery-back {
  width: 160px !important; /* ä½ æƒ³å†å°å°± 140 / 150 */
  height: auto !important;
  max-width: 32vw !important;
  object-fit: contain !important;
  display: block;
}
#btn-gallery-back {
  position: fixed;
  top: 90px;
  right: 100px; /* å³ä¸Šå…©é¡†åœ“æŒ‰éˆ•æ—é‚Šï¼Œæƒ³æ›´é å³å°±æ¸›å° */
  z-index: 9999;
}

/* =========================
   åœ–é‘‘å¡ç‰‡æ•£è½åç§»ï¼ˆä¸ç¢°æ’ç‰ˆï¼š17 ç¨®å¾ªç’°ï¼‰
   ========================= */

#page-gallery .gallery-card {
  position: relative;
}

/* top ç´„ -22~+34ã€left ç´„ -22~+34ã€rotate ç´„ -8~+8 */
#page-gallery .gallery-card:nth-child(17n + 1) {
  top: -22px;
  left: -18px;
  transform: rotate(-8deg);
}
#page-gallery .gallery-card:nth-child(17n + 2) {
  top: 14px;
  left: 12px;
  transform: rotate(7deg);
}
#page-gallery .gallery-card:nth-child(17n + 3) {
  top: -16px;
  left: 22px;
  transform: rotate(-5deg);
}
#page-gallery .gallery-card:nth-child(17n + 4) {
  top: 20px;
  left: -10px;
  transform: rotate(6deg);
}
#page-gallery .gallery-card:nth-child(17n + 5) {
  top: 34px;
  left: -22px;
  transform: rotate(-7deg);
}
#page-gallery .gallery-card:nth-child(17n + 6) {
  top: -6px;
  left: 16px;
  transform: rotate(4deg);
}
#page-gallery .gallery-card:nth-child(17n + 7) {
  top: 18px;
  left: 28px;
  transform: rotate(-6deg);
}
#page-gallery .gallery-card:nth-child(17n + 8) {
  top: 6px;
  left: -14px;
  transform: rotate(8deg);
}
#page-gallery .gallery-card:nth-child(17n + 9) {
  top: -12px;
  left: 8px;
  transform: rotate(-3deg);
}
#page-gallery .gallery-card:nth-child(17n + 10) {
  top: 26px;
  left: 10px;
  transform: rotate(5deg);
}
#page-gallery .gallery-card:nth-child(17n + 11) {
  top: -18px;
  left: 30px;
  transform: rotate(6deg);
}
#page-gallery .gallery-card:nth-child(17n + 12) {
  top: 16px;
  left: -20px;
  transform: rotate(-5deg);
}
#page-gallery .gallery-card:nth-child(17n + 13) {
  top: 30px;
  left: 22px;
  transform: rotate(-7deg);
}
#page-gallery .gallery-card:nth-child(17n + 14) {
  top: -8px;
  left: -6px;
  transform: rotate(3deg);
}
#page-gallery .gallery-card:nth-child(17n + 15) {
  top: 22px;
  left: -14px;
  transform: rotate(-4deg);
}
#page-gallery .gallery-card:nth-child(17n + 16) {
  top: -14px;
  left: 14px;
  transform: rotate(7deg);
}
#page-gallery .gallery-card:nth-child(17n + 17) {
  top: 10px;
  left: 32px;
  transform: rotate(-6deg);
}

/* ====== HOTFIXï¼šé—œæ‰é¦–é ä¸‰å¤§èƒŒæ™¯çš„æ¼‚æµ®å‹•ç•« ====== */
.home-rays,
.home-grid,
.home-splat {
  animation: none !important;
}

/* ====== Layer Fixï¼šèƒŒæ™¯åœ¨åº•ã€è²¼ç´™åœ¨æœ€å‰ ====== */
#page-home {
  position: relative;
}

/* ä¸‰å¼µèƒŒæ™¯ä¸€å®šè¦èƒ½åƒåˆ° z-indexï¼ˆè¦æœ‰ positionï¼‰ */
#page-home .home-rays,
#page-home .home-grid,
#page-home .home-splat {
  position: absolute;
  pointer-events: none;
}

/* èƒŒæ™¯å±¤ç´šï¼šray < grid < splat(è›‹æ¶²) */
#page-home .home-rays {
  z-index: 10;
}
#page-home .home-grid {
  z-index: 20;
}
#page-home .home-splat {
  z-index: 30;
}

/* âœ… è²¼ç´™å±¤ç´šï¼šæ°¸é æ¯”è›‹æ¶²æ›´å‰ */
#page-home .deco.floater,
#page-home .deco-front,
#page-home .sticker-rotate {
  position: absolute;
  z-index: 9999;
  pointer-events: none;
}

/* ====== FIXï¼šæ¨™é¡Œ/START æ°¸é åœ¨è›‹æ¶²ä¸Šé¢ ====== */
#page-home {
  position: relative;
}

/* ä¸‰å¼µèƒŒæ™¯å›ºå®šåœ¨åº•å±¤ï¼ˆè€Œä¸”ä¸æ“‹é»æ“Šï¼‰ */
#page-home .home-rays,
#page-home .home-grid,
#page-home .home-splat {
  position: absolute;
  pointer-events: none;
}

#page-home .home-rays {
  z-index: 0;
}
#page-home .home-grid {
  z-index: 1;
}
#page-home .home-splat {
  z-index: 2;
} /* è›‹æ¶²åœ¨ ray/grid ä¸Šé¢ */

/* âœ… æ¨™é¡Œ + STARTï¼šä¸€å®šè¦æœ‰ position æ‰èƒ½åƒ z-index */
#page-home .title-logo,
#page-home #start-btn {
  position: relative;
  z-index: 50;
}

/* âœ… è²¼ç´™ï¼šæœ€ä¸Šé¢ï¼ˆä½ å·²ç¶“æœ‰ 9999 ä¹Ÿ OKï¼Œé€™æ˜¯ä¿éšªï¼‰ */
#page-home .sticker-rotate,
#page-home .deco-front {
  z-index: 9999;
}

/* ===================================
   ğŸ”’ é¦–é è£é£¾åªå­˜åœ¨æ–¼ page-home
   =================================== */

/* é è¨­ï¼šæ‰€æœ‰é é¢éƒ½ä¸é¡¯ç¤ºé¦–é è£é£¾ */
.home-rays,
.home-grid,
.home-splat,
.deco,
.deco-front,
.sticker-rotate {
  display: none;
}

/* åªæœ‰ page-home è£¡é¢çš„æ‰é¡¯ç¤º */
#page-home .home-rays,
#page-home .home-grid,
#page-home .home-splat,
#page-home .deco,
#page-home .deco-front,
#page-home .sticker-rotate {
  display: block;
}

/* page-home å¿…é ˆæ˜¯å®šä½å®¹å™¨ */
#page-home {
  position: relative;
}

/* èƒŒæ™¯ä¸‰å±¤ */
#page-home .home-rays {
  position: absolute;
  z-index: 0;
  pointer-events: none;
}

#page-home .home-grid {
  position: absolute;
  z-index: 1;
  pointer-events: none;
}

#page-home .home-splat {
  position: absolute;
  z-index: 2;
  pointer-events: none;
}

/* æ¨™é¡Œ & START */
#page-home .title-logo,
#page-home #start-btn {
  position: relative;
  z-index: 10;
}

/* è²¼ç´™æ°¸é æœ€ä¸Š */
#page-home .deco-front,
#page-home .sticker-rotate {
  position: absolute;
  z-index: 20;
  pointer-events: none;
}
